<div class="row-fluid" ng-cloak="">
		<!--PAGE CONTENT BEGINS-->
	<div>
		<h3 class="header lighter blue" style="margin-top:0">Rubricas
		<small><i class="icon-double-angle-right"></i> Nueva Rubrica</small>
		<small ng-hide="Interfaz.EstaCuestionario"><i class="icon-double-angle-right"></i> Datos Generales</small>
		<small ng-show="Interfaz.EstaCuestionario"><i class="icon-double-angle-right"></i> Cuestionario</small></h3>
	</div>
	<div class="row-fluid" ng-animate="{enter: 'magictime swashIn'}" id="main" ng-if="!loader">
		<div id="DatosGenerales" ng-hide="Interfaz.EstaCuestionario">
			<div class="row-fluid">
				<div class="control-group span6">
					<label class="control-label" for="cboCurso">Curso </label>
					<div class="controls">
						<select class="chzn-select" id="cboCurso" data-placeholder="Seleccione el Curso.." style="width:250px" cmb-chosen elementos="cursos" ng-options="curso.CodCurso+' - '+curso.DesCurso group by curso.CicloCurso for curso in cursos" ng-model="cursoSeleccionado">
							<option value=""> -- Escoje Curso -- </option>
						</select>
					</div>
				</div>
				<div class="control-group span6">
					<div class="control-group">
						<label class="control-label" for="tipoRubrica">Rubrica en </label>
						<div class="controls">
							<label class="radio inline" style:"padding-left:0px">
								<input name="tipoRubrica" type="radio"> Curso
							</label>
							<label class="radio inline">
								<input name="tipoRubrica" type="radio"> Proyecto
							</label>
							<label class="radio inline">
								<input name="tipoRubrica" type="radio"> Otro 
							</label>
							<input type="text" name="semestreAcademico" value="" style="margin:0 0 0 4px;max-width:150px">
						</div>
					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span6">
					<div class="row-fluid">
						<div class="control-group span6">
							<label for="semestreAcademico" class="control-label">Semestre</label>
							<div class="controls">
								<input id="semestreAcademico" type="text" name="semestreAcademico" ng-model="semestre[0].Semestre" >
							</div>
						</div>
						<div class="control-group span6">
							<label for="cboDocente" class="control-label">Calificacion A</label>
							<div class="controls">
								<label class="radio inline">
									<input name="tipoRubrica" type="radio">Alumnos	
								</label>
								<label class="radio inline">
									<input name="tipoRubrica" type="radio">Docentes
								</label>
							</div>
						</div>
					</div>
					<div class="row-fluid">
						<div class="control-group">
							<label class="control-label" for="contenedorDocentesSeleccionados">Docentes Calificadores</label>
							<div class="controls">
								<div id="contenedorDocentesSeleccionados" class="widget-box">
									<div class="widget-header widget-healder-small header-color-dark">
										<h6 class="inline">Docentes Seleccionados</h6>
										<input type="text" ng-model="txtBusqueda" placeholder="Buscar ..." style="margin:4px 5px 0 0">
									</div>
									<div class="widget-body" style="border:1px solid #666" >
										<div class="widget-main padding-4">
											<div class="slim-scroll" data-height="250px">
												<div class="content">
													<div ng-repeat="docente in docentes | filter : txtBusqueda" >
														 <div class="alert-{{docente.estaSeleccionado}} alert" >
															<input type="checkbox" ng-model="docente.estaSeleccionado" style="opacity:1;position:static" ng-true-value="success" ng-false-value=""/>
															{{docente.ApepPer+' '+docente.ApemPer+', '+docente.NomPer}}
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="span6">
					<div class="row-fluid">
						<div class="control-group">
							<label class="control-label"for="id-date-range-picker-1">Rango de Fecha</label>
							<div class="controls">
								<div class="control-group">
									<label for="fechaInicio" class="control-label inline">Fecha Inicio</label>
									<input class="date-picker fecha" id="fechaInicio" type="text" data-date-format="dd-mm-yyyy" />
								</div>
								<div class="control-group">
									<label for="fechaInicio" class="control-label inline">Fecha Final</label>
									<input class="date-picker fecha" id="fechaInicio" type="text" data-date-format="dd-mm-yyyy" />
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<hr>
			<grupo-botones>
				<btn-siguiente ng-click="Interfaz.MostrarCuestionario()">Cuestionario </btn-siguiente>
			</grupo-botones>
		</div>
		<div id="Cuestionario" ng-show="Interfaz.EstaCuestionario">
			<div class="row-fluid">
				<div class="span5">
					<div class="row-fluid">
						<div class="control-group">
							<label class="control-label" for="form-field-select-3">Resultado de Aprendizaje</label>
							<div class="controls">
								<select class="chzn-select" id="cboResultados" data-placeholder="Seleccione el Curso.." cmb-chosen elementos="resultadosAprendizaje" ng-options="resultadoAprendizaje.codigoResultadoAprendizaje+ '- '+resultadoAprendizaje.tituloResultadoAprendizaje for resultadoAprendizaje in resultadosAprendizaje" ng-model="resultadoAprendizajeSeleccionado">
									<option value=""> -- Seleccione Resultado de Aprendizaje -- </option>
								</select>
							</div>
						</div>
					</div>
					<div class="row-fluid">
						<div class="widget-box">
							<div class="widget-header widget-healder-small header-color-dark">
								<h6 class="inline">Criterios de Evaluacion</h6>
								<input type="text" ng-model="txtBusqueda" placeholder="Buscar ..." style="margin:4px 5px 0 0">
							</div>
							<div class="widget-body" style="border:1px solid #666">
								<div class="widget-main padding-4">
									<div class="slim-scroll" data-height="250px">
										<div class="content">
											<div ng-repeat="criterioEvaluacion in resultadoAprendizajeSeleccionado.criteriosEvaluacion | filter : txtBusqueda" style="margin-bottom:5px">
												<label class="checkbox">
													<input type="checkbox" ng-model="criterioEvaluacion.estaSeleccionado" ng-change="Interfaz.AgregarCriterioSeleccionado(criterioEvaluacion)"/>{{criterioEvaluacion.descripcionCriterioEvaluacion}}
												</label>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="span7">
					<div class="widget-box transparent">
						<div class="widget-header">
							<h4 class="lighter smaller">
								Criterios Seleccionados
							</h4>
						</div>
						<div class="widget-body">
							<div class="widget-main">
								<ul id="tasks" class="item-list" ui-sortable ng-model="rubrica.criteriosEvaluacion">
									<li class="item-blue clearfix" ng-repeat="criterio in rubrica.criteriosEvaluacion">
											<input type="checkbox" style="opacity:1;position:static"/>
											{{criterio.descripcionCriterioEvaluacion}}
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
			<hr>
			<grupo-botones>
				<btn-atras ng-click="Interfaz.OcultarCuestionario()">Datos Generales </btn-atras>
				<btn-guardar ng-click="Interfaz.Guardar()">Guardar </btn-guardar>
			</grupo-botones>
		</div>
	</div>
	<pantalla-loading loader="loader">Cargando Informaci√≥n ... </pantalla-loading>
</div>

<script src="assets/js/jquery.slimscroll.min.js"></script>
<script src="assets/js/jquery.sticky.js"></script>

<script type="text/javascript">
	$(function(){
		$('.fecha').datepicker();
		var agent = navigator.userAgent.toLowerCase();
				if("ontouchstart" in document && /applewebkit/.test(agent) && /android/.test(agent))
				  $('#tasks').on('touchstart', function(e){
					var li = $(e.target).closest('#tasks li');
					if(li.length == 0)return;
					var label = li.find('label.inline').get(0);
					if(label == e.target || $.contains(label, e.target)) e.stopImmediatePropagation() ;
				});
		$('#tasks').sortable({
				opacity:0.8,
				revert:true,
				forceHelperSize:true,
				placeholder: 'draggable-placeholder',
				forcePlaceholderSize:true,
				tolerance:'pointer',
				stop: function( event, ui ) {//just for Chrome!!!! so that dropdowns on items don't appear below other items after being moved
					$(ui.item).css('z-index', 'auto');
				}
				}
			);
		$('#tasks').disableSelection();
		// scrollables
		$('.slim-scroll').each(function () {
			var $this = $(this);
			$this.slimScroll({
				height: $this.data('height') || 100,
				railVisible:true
			});
		});
		
		//mantener paleta criterios top
		// $('#mantenerCriteriosTop').sticky({topSpacing:0});
	});
</script>
